<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Product Images - Schaeffler DPFC</title>
    <link rel="stylesheet" href="product-images-styles.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <div class="header">
            <h1 class="header-title">Schaeffler DPFC</h1>
            <div class="header-right">
                <div class="login-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <img src="assets/schaeffler-logo.png" alt="Schaeffler Logo" class="logo-img" onerror="this.style.display='none'">
            </div>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <button class="sidebar-toggle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                </svg>
            </button>
            <nav class="sidebar-nav">
                <a href="index.html" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                    </svg>
                    <span class="nav-text">Home</span>
                </a>
                <a href="#" class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
                    </svg>
                    <span class="nav-text">Catalog</span>
                </a>
                <a href="#" class="nav-item active">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                    </svg>
                    <span class="nav-text">My Processes</span>
                </a>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <div class="breadcrumb">
                <a href="index.html">Home</a>
                <span>›</span>
                <a href="dfm.html">Design for Manufacturing</a>
                <span>›</span>
                <a href="dfm-config.html">Configuration</a>
                <span>›</span>
                <a href="project-details.html">Project Details</a>
                <span>›</span>
                <a href="participant-details.html">Participant Details</a>
                <span>›</span>
                <a href="subassembly-details.html">Sub-Assembly Details</a>
                <span>›</span>
                <span class="current">Product Images</span>
            </div>

            <div class="page-header">
                <h1>Add Product Images</h1>
                <p class="subtitle">Upload images for each sub-assembly to complete your DFM documentation</p>
            </div>

            <!-- Sub-assemblies List -->
            <div class="subassemblies-container" id="subassembliesContainer">
                <!-- Dynamic sub-assembly cards will be inserted here -->
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button type="button" class="btn-back" onclick="window.location.href='subassembly-details.html'">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                    </svg>
                    Back
                </button>
                <button type="submit" class="btn-submit" id="submitBtn" disabled>
                    Save & Continue
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
                    </svg>
                </button>
            </div>

            <!-- Helper Text -->
            <div class="helper-text">
                <p><strong>Note:</strong> At least one image must be uploaded for each sub-assembly to proceed.</p>
            </div>
        </div>
    </div>

    <!-- Image Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Upload Image for Sub-Assembly</h2>
                <button class="close-btn" onclick="closeUploadModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p class="modal-subtitle">Choose your preferred upload method:</p>
                
                <div class="upload-options">
                    <!-- Gallery / File Explorer -->
                    <div class="upload-option" onclick="selectUploadMethod('gallery')">
                        <div class="upload-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                            </svg>
                        </div>
                        <h3>Gallery / File Explorer</h3>
                        <p>Browse and select images from your computer</p>
                    </div>

                    <!-- Camera -->
                    <div class="upload-option" onclick="selectUploadMethod('camera')">
                        <div class="upload-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.41 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/>
                                <circle cx="12" cy="10" r="3"/>
                                <path d="M20 4h-3.17L15 2H9L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 13c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/>
                            </svg>
                        </div>
                        <h3>Camera</h3>
                        <p>Capture a photo using your device camera</p>
                    </div>

                    <!-- SharePoint -->
                    <div class="upload-option" onclick="selectUploadMethod('sharepoint')">
                        <div class="upload-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/>
                            </svg>
                        </div>
                        <h3>SharePoint</h3>
                        <p>Import from your SharePoint library</p>
                    </div>

                    <!-- Schaeffler Catalogue -->
                    <div class="upload-option" onclick="selectUploadMethod('catalogue')">
                        <div class="upload-icon">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/>
                            </svg>
                        </div>
                        <h3>Schaeffler Catalogue</h3>
                        <p>Select from official product catalogue</p>
                    </div>
                </div>

                <!-- Hidden file input for gallery method -->
                <input type="file" id="fileInput" accept="image/*" multiple style="display: none;" onchange="handleFileSelect(event)">
                
                <!-- Hidden camera input -->
                <input type="file" id="cameraInput" accept="image/*" capture="camera" style="display: none;" onchange="handleFileSelect(event)">
            </div>
        </div>
    </div>

    <script src="product-images.js"></script>
</body>
</html>
